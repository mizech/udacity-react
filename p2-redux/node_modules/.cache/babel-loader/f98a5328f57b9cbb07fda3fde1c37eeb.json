{"ast":null,"code":"import _classCallCheck from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Library/WebServer/Documents/p2-would-you/src/components/Poll/Poll.js\";\nimport React, { Component } from 'react';\nimport { Redirect, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Navbar from \"./../Navbar/Navbar\";\nimport { handleAnswerQuestion } from \"./../../actions/questions\";\nimport './Poll.css';\n\nvar Poll =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Poll, _Component);\n\n  function Poll() {\n    _classCallCheck(this, Poll);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Poll).apply(this, arguments));\n  }\n\n  _createClass(Poll, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var authed = false;\n\n      if (document.cookie) {\n        var parts = document.cookie.split(\"=\");\n\n        if (parts.length) {\n          authed = parts[1];\n        }\n      }\n\n      if (!this.props.username && !authed) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23\n          },\n          __self: this\n        });\n      }\n\n      var qid;\n      qid = window.location.pathname.split(\"/\")[2];\n      var currentQuestion = this.props.questions[qid];\n      var avatarUrl;\n\n      if (this.props.users[currentQuestion.author]) {\n        avatarUrl = this.props.users[currentQuestion.author].avatarURL;\n      }\n\n      var url = \"/questions/result/\" + qid;\n      return React.createElement(\"div\", {\n        className: \"result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Would you rather ... ?\"), React.createElement(\"div\", {\n        className: \"creator\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        width: \"60\",\n        src: avatarUrl,\n        alt: \"avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Ask by: \", currentQuestion.author)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"option optionOne\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Link, {\n        onClick: function onClick(event) {\n          _this.props.handleSelect(qid, event.target.dataset.option);\n        },\n        className: \"option-link\",\n        \"data-option\": \"optionOne\",\n        to: url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Option 1: \", currentQuestion.optionOne.text)), React.createElement(\"div\", {\n        onClick: function onClick(event) {\n          _this.props.handleSelect(qid, event.target.dataset.option);\n        },\n        className: \"option optionTwo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"option-link\",\n        \"data-option\": \"optionTwo\",\n        to: url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Option 2: \", currentQuestion.optionTwo.text)), React.createElement(\"p\", {\n        className: \"hint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Please select one option by clicking on it!\")));\n    }\n  }]);\n\n  return Poll;\n}(Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    questions: state.questions,\n    users: state.users,\n    username: state.authedUser.username || \"\"\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    handleSelect: function handleSelect(questionId, answer) {\n      dispatch(handleAnswerQuestion(questionId, answer));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Poll);","map":{"version":3,"sources":["/Library/WebServer/Documents/p2-would-you/src/components/Poll/Poll.js"],"names":["React","Component","Redirect","Link","connect","Navbar","handleAnswerQuestion","Poll","authed","document","cookie","parts","split","length","props","username","qid","window","location","pathname","currentQuestion","questions","avatarUrl","users","author","avatarURL","url","event","handleSelect","target","dataset","option","optionOne","text","optionTwo","mapStateToProps","state","authedUser","mapDispatchToProps","dispatch","questionId","answer"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,kBAA/B;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,SAASC,oBAAT,QAAqC,2BAArC;AACA,OAAO,YAAP;;IAEMC,I;;;;;;;;;;;;;6BAEO;AAAA;;AACL,UAAIC,MAAM,GAAG,KAAb;;AAEA,UAAIC,QAAQ,CAACC,MAAb,EAAqB;AACrB,YAAMC,KAAK,GAAGF,QAAQ,CAACC,MAAT,CAAgBE,KAAhB,CAAsB,GAAtB,CAAd;;AAEA,YAAID,KAAK,CAACE,MAAV,EAAkB;AACdL,UAAAA,MAAM,GAAGG,KAAK,CAAC,CAAD,CAAd;AACH;AACA;;AAED,UAAI,CAAC,KAAKG,KAAL,CAAWC,QAAZ,IAAwB,CAACP,MAA7B,EAAqC;AACjC,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AAED,UAAIQ,GAAJ;AAEAA,MAAAA,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBP,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAN;AACA,UAAMQ,eAAe,GAAG,KAAKN,KAAL,CAAWO,SAAX,CAAqBL,GAArB,CAAxB;AAEA,UAAIM,SAAJ;;AAEA,UAAI,KAAKR,KAAL,CAAWS,KAAX,CAAiBH,eAAe,CAACI,MAAjC,CAAJ,EAA8C;AAC1CF,QAAAA,SAAS,GAAG,KAAKR,KAAL,CAAWS,KAAX,CAAiBH,eAAe,CAACI,MAAjC,EAAyCC,SAArD;AACH;;AAED,UAAMC,GAAG,GAAG,uBAAuBV,GAAnC;AAEA,aAAO;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADL,EAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFL,EAGK;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,KAAK,EAAC,IAAX;AAAgB,QAAA,GAAG,EAAEM,SAArB;AAAgC,QAAA,GAAG,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAeF,eAAe,CAACI,MAA/B,CAFJ,CAHL,EAOK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAE,iBAACG,KAAD,EAAW;AACtB,UAAA,KAAI,CAACb,KAAL,CAAWc,YAAX,CAAwBZ,GAAxB,EAA6BW,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqBC,MAAlD;AACH,SAFD;AAEG,QAAA,SAAS,EAAC,aAFb;AAE2B,uBAAY,WAFvC;AAGA,QAAA,EAAE,EAAGL,GAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGuBN,eAAe,CAACY,SAAhB,CAA0BC,IAHjD,CADJ,CADJ,EAOI;AAAK,QAAA,OAAO,EAAE,iBAACN,KAAD,EAAW;AACjB,UAAA,KAAI,CAACb,KAAL,CAAWc,YAAX,CAAwBZ,GAAxB,EAA6BW,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAqBC,MAAlD;AACH,SAFL;AAEO,QAAA,SAAS,EAAC,kBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,aAAhB;AAA8B,uBAAY,WAA1C;AACI,QAAA,EAAE,EAAGL,GADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC2BN,eAAe,CAACc,SAAhB,CAA0BD,IADrD,CAHJ,CAPJ,EAaI;AAAG,QAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAbJ,CAPL,CAAP;AAuBH;;;;EArDchC,S;;AAsDlB;;AAED,IAAMkC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACHf,IAAAA,SAAS,EAAEe,KAAK,CAACf,SADd;AAEHE,IAAAA,KAAK,EAAEa,KAAK,CAACb,KAFV;AAGHR,IAAAA,QAAQ,EAAEqB,KAAK,CAACC,UAAN,CAAiBtB,QAAjB,IAA6B;AAHpC,GAAP;AAKH,CAND;;AAQA,IAAMuB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACrC,SAAO;AACHX,IAAAA,YAAY,EAAE,sBAACY,UAAD,EAAaC,MAAb,EAAwB;AAClCF,MAAAA,QAAQ,CAACjC,oBAAoB,CAACkC,UAAD,EAAaC,MAAb,CAArB,CAAR;AACH;AAHE,GAAP;AAKH,CAND;;AAQA,eAAerC,OAAO,CAAC+B,eAAD,EAAkBG,kBAAlB,CAAP,CAA6C/B,IAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport Navbar from \"./../Navbar/Navbar\";\nimport { handleAnswerQuestion } from \"./../../actions/questions\";\nimport './Poll.css';\n\nclass Poll extends Component {\n\n    render() {\n        let authed = false; \n    \n        if (document.cookie) {\n        const parts = document.cookie.split(\"=\");\n\n        if (parts.length) {\n            authed = parts[1];\n        }\n        }\n    \n        if (!this.props.username && !authed) {\n            return <Redirect to=\"/\" />\n        }\n\n        let qid;\n\n        qid = window.location.pathname.split(\"/\")[2];\n        const currentQuestion = this.props.questions[qid];\n\n        let avatarUrl;\n\n        if (this.props.users[currentQuestion.author]) {\n            avatarUrl = this.props.users[currentQuestion.author].avatarURL;\n        }\n\n        const url = \"/questions/result/\" + qid;\n       \n        return <div className=\"result\" >\n                    <Navbar />\n                    <h1>Would you rather ... ?</h1> \n                    <div className=\"creator\">\n                        <img width=\"60\" src={avatarUrl} alt=\"avatar\" />\n                        <span>Ask by: {currentQuestion.author}</span>\n                    </div>\n                    <div>\n                        <div className=\"option optionOne\">\n                            <Link onClick={(event) => {\n                                this.props.handleSelect(qid, event.target.dataset.option);\n                            }} className=\"option-link\" data-option=\"optionOne\"\n                            to={ url }>Option 1: { currentQuestion.optionOne.text }</Link>\n                        </div>\n                        <div onClick={(event) => {\n                                this.props.handleSelect(qid, event.target.dataset.option);\n                            }} className=\"option optionTwo\">\n                            <Link className=\"option-link\" data-option=\"optionTwo\"\n                                to={ url }>Option 2: { currentQuestion.optionTwo.text }</Link>\n                        </div>\n                        <p className=\"hint\">Please select one option by clicking on it!</p>\n                    </div>   \n                </div>\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        questions: state.questions,\n        users: state.users,\n        username: state.authedUser.username || \"\"\n    };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        handleSelect: (questionId, answer) => {\n            dispatch(handleAnswerQuestion(questionId, answer));\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Poll);"]},"metadata":{},"sourceType":"module"}