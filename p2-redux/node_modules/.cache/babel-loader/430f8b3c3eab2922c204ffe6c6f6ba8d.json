{"ast":null,"code":"import _classCallCheck from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Library/WebServer/Documents/p2-would-you/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Library/WebServer/Documents/p2-would-you/src/components/App/App.js\";\nimport React, { Component } from 'react';\nimport { Route, BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport SignIn from \"../SignIn/SignIn\";\nimport Homepage from \"../Homepage/Homepage\";\nimport Leaderboard from \"../Leaderboard/Leaderboard\";\nimport AddQuestion from \"../AddQuestion/AddQuestion\";\nimport QuestionDetails from \"../QuestionDetails/QuestionDetails\";\nimport Poll from \"../Poll/Poll\";\nimport NotFound from \"../NotFound/NotFound\";\nimport \"./App.css\"; // import { handleInitialData } from '../../actions/shared';\n\nimport PrivateRoute from \"./PrivateRoute\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n\n    /*\n    componentDidMount() {\n      this.props.dispatch(handleInitialData());   \n    }\n    */\n    value: function render() {\n      var _this = this;\n\n      setTimeout(function () {\n        var qid;\n        var intercept = null;\n\n        if (window.location.pathname && window.location.pathname.indexOf(\"result\") === -1) {\n          qid = window.location.pathname.split(\"/\")[2];\n        } else if (window.location.pathname && window.location.pathname.indexOf(\"result\") > -1) {\n          qid = window.location.pathname.split(\"/\")[3];\n        }\n\n        if (qid) {\n          var find = Object.values(_this.props.questions).some(function (question) {\n            return question.id === qid;\n          });\n\n          if (!find) {\n            intercept = React.createElement(Redirect, {\n              to: {\n                pathname: \"/\",\n                state: {\n                  from: {\n                    pathname: \"/invalid\"\n                  }\n                }\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 43\n              },\n              __self: this\n            });\n          }\n        }\n\n        return React.createElement(\"div\", {\n          className: \"wrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(Router, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(Switch, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Route, {\n          path: \"/\",\n          exact: true,\n          component: SignIn,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(PrivateRoute, {\n          path: \"/homepage\",\n          component: Homepage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(PrivateRoute, {\n          path: \"/leaderboard\",\n          component: Leaderboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }), intercept, React.createElement(PrivateRoute, {\n          path: \"/questions/result/:question_id\",\n          component: QuestionDetails,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(PrivateRoute, {\n          path: \"/questions/:question_id\",\n          component: Poll,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(PrivateRoute, {\n          path: \"/add\",\n          component: AddQuestion,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(PrivateRoute, {\n          path: \"/invalid\",\n          component: NotFound,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }), React.createElement(PrivateRoute, {\n          component: NotFound,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }))));\n      }, 1000);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    users: state.users,\n    questions: state.questions,\n    username: state.authedUser.username || \"\"\n  };\n};\n\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Library/WebServer/Documents/p2-would-you/src/components/App/App.js"],"names":["React","Component","Route","BrowserRouter","Router","Switch","Redirect","connect","SignIn","Homepage","Leaderboard","AddQuestion","QuestionDetails","Poll","NotFound","PrivateRoute","App","setTimeout","qid","intercept","window","location","pathname","indexOf","split","find","Object","values","props","questions","some","question","id","state","from","mapStateToProps","users","username","authedUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {  Route,\n          BrowserRouter as Router,\n          Switch,\n          Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport SignIn from \"../SignIn/SignIn\";\nimport Homepage from \"../Homepage/Homepage\";\nimport Leaderboard from \"../Leaderboard/Leaderboard\";\nimport AddQuestion from \"../AddQuestion/AddQuestion\";\nimport QuestionDetails from \"../QuestionDetails/QuestionDetails\";\nimport Poll from \"../Poll/Poll\";\nimport NotFound from \"../NotFound/NotFound\";\nimport \"./App.css\";\n// import { handleInitialData } from '../../actions/shared';\nimport PrivateRoute from \"./PrivateRoute\";\n\nclass App extends Component {\n  /*\n  componentDidMount() {\n    this.props.dispatch(handleInitialData());   \n  }\n  */\n  render() {\n    setTimeout(() => {\n      let qid;\n      let intercept = null;\n\n      if (window.location.pathname && window.location.pathname.indexOf(\"result\") === -1) {\n        qid = window.location.pathname.split(\"/\")[2];\n      } else if (window.location.pathname && window.location.pathname.indexOf(\"result\") > -1) {\n        qid = window.location.pathname.split(\"/\")[3];\n      }\n\n      \n      if (qid) {\n        let find = Object.values(this.props.questions).some((question) => {\n          return question.id === qid;\n        });\n\n        if (!find) {\n          intercept = <Redirect to={{\n            pathname: \"/\",\n            state: {\n              from: {\n                pathname: \"/invalid\"\n              }\n            }\n          }} />\n        }\n      }\n    \n      return (\n        <div className=\"wrap\">\n          <Router>\n            <Switch>\n              <Route path=\"/\" exact component={ SignIn } />\n              <PrivateRoute path=\"/homepage\" component={ Homepage } />\n              <PrivateRoute path=\"/leaderboard\" component={ Leaderboard } />\n              { intercept }\n              <PrivateRoute path=\"/questions/result/:question_id\" component={ QuestionDetails } />\n              <PrivateRoute path=\"/questions/:question_id\" component={ Poll } />\n              <PrivateRoute path=\"/add\" component={ AddQuestion } />\n              <PrivateRoute path=\"/invalid\" component={ NotFound } />\n              <PrivateRoute component={ NotFound } />\n            </Switch>\n          </Router>\n        </div>\n      )\n    }, 1000);\n\n    \n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      users: state.users,\n      questions: state.questions,\n      username: state.authedUser.username || \"\"\n  };\n}\n\nexport default connect(mapStateToProps)(App);"]},"metadata":{},"sourceType":"module"}